<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Healthcare Test Result Prediction</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
    body {
        margin: 0;
        padding: 0;
        background: linear-gradient(135deg, #e9f0ff, #f7f9ff);
        font-family: "Segoe UI", Roboto, sans-serif;
    }

    .container {
        max-width: 900px;
        background: white;
        margin: 40px auto;
        border-radius: 16px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        animation: fadeIn 0.7s ease-in-out;
    }

    @keyframes fadeIn {
        from {opacity: 0; transform: translateY(20px);}
        to {opacity: 1; transform: translateY(0);}
    }

    h1 {
        text-align: center;
        color: #222;
        margin-bottom: 25px;
    }

    .grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }

    label {
        font-weight: 600;
        color: #333;
    }

    input {
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        transition: all .2s;
    }

    input:focus {
        border-color: #4a90e2;
        box-shadow: 0 0 5px rgba(74,144,226,0.4);
        outline: none;
    }

    button {
        padding: 12px;
        width: 100%;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        margin-top: 10px;
        transition: .3s;
    }

    .predict-btn { background: #007bff; color: white; }
    .predict-btn:hover { background: #005fcc; }

    .result-box {
        margin-top: 20px;
        padding: 18px;
        border-radius: 10px;
        font-size: 20px;
        text-align: center;
        font-weight: 700;
        display: none;
    }

    .normal { background: #e7ffe7; color: #0a8a0a; }
    .abnormal { background: #ffe7e7; color: #c00000; }
    .inconclusive { background: #fff7d9; color: #8a7300; }

</style>
</head>

<body>

<div class="container">
    <h1>Healthcare Test Result Prediction</h1>

    <div class="grid">
        <div>
            <label>Age</label>
            <input id="Age" type="number" value="30">
        </div>

        <div>
            <label>Gender (0=female, 1=male)</label>
            <input id="Gender" type="number" value="1">
        </div>

        <div>
            <label>Blood Type</label>
            <input id="Blood_Type" type="number" value="1">
        </div>

        <div>
            <label>Medical Condition</label>
            <input id="Medical_Condition" type="number" value="0">
        </div>

        <div>
            <label>Billing Amount</label>
            <input id="Billing_Amount" type="number" value="20000">
        </div>

        <div>
            <label>Admission Type</label>
            <input id="Admission_Type" type="number" value="1">
        </div>

        <div>
            <label>Medication</label>
            <input id="Medication" type="number" value="1">
        </div>

        <div>
            <label>Symptom Severity (0–10)</label>
            <input id="Symptom_Severity" type="number" value="4">
        </div>

        <div>
            <label>Prior Hospital Visits</label>
            <input id="Prior_Hospital_Visits" type="number" value="1">
        </div>

        <div>
            <label>High BP (0/1)</label>
            <input id="High_BP_Flag" type="number" value="0">
        </div>

        <div>
            <label>High Sugar (0/1)</label>
            <input id="High_Sugar_Flag" type="number" value="0">
        </div>

        <div>
            <label>Fever (0/1)</label>
            <input id="Fever_Flag" type="number" value="0">
        </div>

        <div style="grid-column: span 2;">
            <label>Risk Score</label>
            <input id="Risk_Score" type="number" value="50">
        </div>
    </div>

    <button class="predict-btn" onclick="predict()">Predict</button>

    <div id="resultBox" class="result-box"></div>
</div>

<script>
async function predict() {
    const payload = {
        Age: +document.getElementById("Age").value,
        Gender: +document.getElementById("Gender").value,
        Blood_Type: +document.getElementById("Blood_Type").value,
        Medical_Condition: +document.getElementById("Medical_Condition").value,
        Billing_Amount: +document.getElementById("Billing_Amount").value,
        Admission_Type: +document.getElementById("Admission_Type").value,
        Medication: +document.getElementById("Medication").value,
        Symptom_Severity: +document.getElementById("Symptom_Severity").value,
        Prior_Hospital_Visits: +document.getElementById("Prior_Hospital_Visits").value,
        High_BP_Flag: +document.getElementById("High_BP_Flag").value,
        High_Sugar_Flag: +document.getElementById("High_Sugar_Flag").value,
        Fever_Flag: +document.getElementById("Fever_Flag").value,
        Risk_Score: +document.getElementById("Risk_Score").value
    };

    const res = await fetch("https://ds-project-backend.onrender.com/predict", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
    });

    const data = await res.json();
    const box = document.getElementById("resultBox");

    box.style.display = "block";
    box.className = "result-box";

    if (data.prediction_label === "Normal") {
        box.classList.add("normal");
        box.textContent = "Prediction: NORMAL ✔️";
    } else if (data.prediction_label === "Abnormal") {
        box.classList.add("abnormal");
        box.textContent = "Prediction: ABNORMAL ❗";
    } else {
        box.classList.add("inconclusive");
        box.textContent = "Prediction: INCONCLUSIVE ❓";
    }
}
</script>

</body>
</html>
